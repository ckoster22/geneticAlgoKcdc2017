<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Evolving Images with a Genetic Algorithm</title>
  </head>
  <body>
    <div>
        <canvas id="screenshot-canvas" width="555" height="465" style="position: absolute; top: 20px; left: 700px;"></canvas>
        <p>
            <button id="startButton">Start</button>
        </p>
    </div>
    <img id="rabbit" width="555" height="465" src="./images/bugsbunny.png">
    <canvas id="gaCanvas" width="555" height="465"></canvas>
    <img src="" id="imagePlayback" style="position:absolute; top: 500px; left: 700px;"/>
    <button id="playMovieButton">Play Movie</button>

    <script>
        setTimeout(function() {
            var canvas = document.querySelector('#screenshot-canvas');
            var ctx = canvas.getContext('2d');
            var img = document.getElementById('rabbit');
            ctx.drawImage(img, 0, 0, 555, 465);
        }, 500);

      window.start = function(setImageCb) {
          var canvas = document.querySelector('#screenshot-canvas');
          var ctx = canvas.getContext('2d');
          var localMediaStream;
          var errorCallback;

          document.querySelector('#startButton').addEventListener('click', function() {
              console.log('starting..');
              canvas.outerHTML = '';
              delete canvas;

              setTimeout(function() {
                setImageCb(ctx.getImageData(0, 0, 555, 465));
              }, 500);
          });

          document.querySelector('#playMovieButton').addEventListener('click', window.playMoveClick);
      }
    </script>
    <script src="../../build/evolving.images.bundle.js"></script>
  </body>
</html>